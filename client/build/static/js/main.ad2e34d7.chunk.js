(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{128:function(e,t,a){},169:function(e,t,a){},236:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(35),s=a.n(o),r=(a(169),a(17)),l=a(7),i=a(31),j=(a(128),a(79)),u=a(292),d=a(290),h=a(277),b=a(289),p=a(1),O=function(){new Date;var e=Object(i.e)(),t=Object(n.useState)(new Date),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(new Date),O=Object(l.a)(s,2),g=O[0],m=O[1],f=Object(n.useState)(0),x=Object(l.a)(f,2),v=x[0],S=x[1],y=Object(n.useState)(!1),k=Object(l.a)(y,2),C=k[0],N=k[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"mycard card",children:Object(p.jsxs)("div",{className:"auth-card input-field",children:[Object(p.jsx)("h5",{children:"Party Rooms at great prices"}),Object(p.jsxs)(j.Container,{children:[Object(p.jsx)("p",{children:"Enter Check In Date"}),Object(p.jsx)(j.DatePicker,{style:{height:"0%"},selected:c,placeholder:"date of party",onChange:function(e){var t=new Date(e);o(new Date(t.setHours(0,0,0,0)).toDateString())},value:c})]}),Object(p.jsxs)(h.b,{dateAdapter:d.a,children:[Object(p.jsx)("p",{children:"Select Time"}),Object(p.jsx)(b.a,{value:g,onChange:function(e){m(e)},renderInput:function(e){return Object(p.jsx)(u.a,Object(r.a)({},e))}})]}),Object(p.jsx)("p",{className:"p-0 mt-2 mb-0",children:"Total Persons"}),Object(p.jsx)("input",{className:"p-0 m-0",type:"number",value:v,onChange:function(e){S(parseInt(e.target.value))},min:"0",max:"99"}),Object(p.jsx)("div",{children:Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",onClick:function(e){N(!C),console.log(C)}}),Object(p.jsx)("span",{className:"mt-1",children:"Ladies Included?"})]})}),Object(p.jsxs)("h6",{children:["Total No. Of. People = ",v]}),Object(p.jsx)("a",{className:"waves-effect waves-light btn",onClick:function(){localStorage.setItem("totalPersons",v),localStorage.setItem("girls",C),localStorage.setItem("bookingDate",c),console.log(g.toLocaleTimeString()),console.log(g.toLocaleTimeString("en-US").includes("PM")),localStorage.setItem("time",g.toLocaleTimeString("en-US")),g.getHours()>=18||g.getHours()<8?localStorage.setItem("isNightParty",!0):localStorage.setItem("isNightParty",!1),e.push("/hotelList")},children:"Submit"})]})})})},g=a(29),m=a(291),f=a(293);var x=function(){var e=localStorage.getItem("businessLoggedIn");return Object(p.jsxs)(m.a,{collapseOnSelect:!0,expand:"xl",bg:"primary",variant:"dark",children:["true"!==e?Object(p.jsx)(m.a.Brand,{style:{width:"55%",marginLeft:"10px"},href:"/",children:"MERA ADDA"}):Object(p.jsx)(m.a.Brand,{style:{width:"55%",marginLeft:"10px"},href:"/hoteladmin",children:"MERA ADDA"}),Object(p.jsx)(m.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(p.jsx)(m.a.Collapse,{style:{backgroundColor:"blue",height:"50%",zIndex:"1020",justifyContent:"space-around"},id:"responsive-navbar-nav",children:Object(p.jsxs)(f.a,{children:[Object(p.jsx)(g.b,{style:{textDecoration:"none"},to:"/bsignup",children:Object(p.jsx)(f.a.Link,{href:"/bsignup",children:"Business Sign-up"})}),Object(p.jsx)(g.b,{style:{textDecoration:"none"},to:"/bsignin",children:Object(p.jsx)(f.a.Link,{href:"/bsignin",children:"Business Sign-in"})}),Object(p.jsx)(g.b,{style:{textDecoration:"none"},to:"/uphone",children:Object(p.jsx)(f.a.Link,{href:"/uphone",children:"User Sign-in"})}),Object(p.jsx)(g.b,{style:{textDecoration:"none"},to:"/usignup",children:Object(p.jsx)(f.a.Link,{href:"/usignup",children:"User Sign-up"})})]})})]})},v=a(32),S=a.n(v);var y=function(){var e=Object(i.e)(),t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(""),r=Object(l.a)(s,2),j=r[0],u=r[1],d=Object(n.useState)(!1),h=Object(l.a)(d,2);return h[0],h[1],Object(n.useEffect)((function(){localStorage.clear()}),[]),Object(p.jsx)("div",{className:"mycard card",children:Object(p.jsxs)("div",{className:"auth-card input-field",children:[Object(p.jsx)("h2",{children:"Business User Sign-in"}),Object(p.jsx)("input",{type:"text",placeholder:"email",value:c,onChange:function(e){o(e.target.value)}}),Object(p.jsx)("input",{type:"password",placeholder:"password",value:j,onChange:function(e){u(e.target.value),console.log(u)}}),Object(p.jsx)("button",{className:"btn waves-effect waves-light #1e88e5 blue darken-1",onClick:function(t){!function(){if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(c))return S.a.toast({html:"Invalid Email",classes:"#d32f2f red darken-2"});localStorage.setItem("email",c),console.log("btn press",localStorage.getItem("email")),fetch("/bsignin",{method:"post",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json"},body:JSON.stringify({password:j,email:c})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.error?S.a.toast({html:t.error,classes:"#d32f2f red darken-2"}):(localStorage.setItem("jwt",t.token),localStorage.setItem("user",JSON.stringify(t.user)),S.a.toast({html:"Signed In successfully",classes:"#43a047 green darken-1"}),localStorage.setItem("businessLoggedIn","true"),e.push("/hoteladmin"))})).catch((function(e){console.log(e)}))}()},children:"Submit"}),Object(p.jsx)("h6",{children:Object(p.jsx)(g.b,{to:"/bsignup",children:"Don't have an account? Create One"})})]})})};var k=function(){var e=Object(i.e)(),t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(""),r=Object(l.a)(s,2),j=r[0],u=r[1],d=Object(n.useState)(""),h=Object(l.a)(d,2),b=h[0],O=h[1],m=Object(n.useState)(""),f=Object(l.a)(m,2),x=f[0],v=f[1],y=Object(n.useState)(""),k=Object(l.a)(y,2),C=k[0],N=k[1],w=Object(n.useState)(""),I=Object(l.a)(w,2),P=I[0],D=I[1],T=Object(n.useState)(!1),B=Object(l.a)(T,2),A=B[0],L=B[1],R=Object(n.useState)(!1),E=Object(l.a)(R,2),U=E[0],z=E[1],M=Object(n.useState)(""),J=Object(l.a)(M,2),_=J[0],H=J[1],F=Object(n.useState)(""),Z=Object(l.a)(F,2),V=Z[0],Y=Z[1],$=Object(n.useState)(""),W=Object(l.a)($,2),q=W[0],K=W[1],Q=Object(n.useState)(""),G=Object(l.a)(Q,2),X=G[0],ee=G[1],te=Object(n.useState)(""),ae=Object(l.a)(te,2),ne=ae[0],ce=ae[1],oe=Object(n.useState)(""),se=Object(l.a)(oe,2),re=se[0],le=se[1],ie=Object(n.useState)(""),je=Object(l.a)(ie,2),ue=je[0],de=je[1],he=Object(n.useState)(""),be=Object(l.a)(he,2),pe=be[0],Oe=be[1],ge=Object(n.useState)(""),me=Object(l.a)(ge,2),fe=me[0],xe=me[1],ve=Object(n.useState)(""),Se=Object(l.a)(ve,2),ye=Se[0],ke=Se[1],Ce=Object(n.useState)(""),Ne=Object(l.a)(Ce,2),we=Ne[0],Ie=Ne[1],Pe=Object(n.useState)(""),De=Object(l.a)(Pe,2),Te=De[0],Be=De[1],Ae={smallPrice:_,smallPic:V,smallCapacity:q,smallNightPrice:ye},Le={mediumPrice:X,mediumPic:ne,mediumCapacity:re,mediumNightPrice:we},Re={largePrice:ue,largePic:pe,largeCapacity:fe,largeNightPrice:Te},Ee=Object(n.useState)(!1),Ue=Object(l.a)(Ee,2),ze=Ue[0],Me=Ue[1],Je=Object(n.useState)(!1),_e=Object(l.a)(Je,2),He=_e[0],Fe=_e[1],Ze=Object(n.useState)(!1),Ve=Object(l.a)(Ze,2),Ye=Ve[0],$e=Ve[1];return Object(n.useEffect)((function(){localStorage.clear()}),[]),Object(p.jsx)("div",{className:"mycard card",children:Object(p.jsxs)("div",{className:"auth-card input-field",children:[Object(p.jsx)("h2",{children:"Business Sign-up"}),Object(p.jsx)("input",{type:"text",placeholder:"Hotel Name",value:c,onChange:function(e){o(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"email",value:j,onChange:function(e){u(e.target.value)}}),Object(p.jsx)("input",{type:"password",placeholder:"password",value:b,onChange:function(e){O(e.target.value)}}),Object(p.jsx)("input",{type:"password",placeholder:"confirm password",value:x,onChange:function(e){v(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"location",value:C,onChange:function(e){N(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"address",value:P,onChange:function(e){D(e.target.value)}}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",value:A,onClick:function(e){L(!A)}}),Object(p.jsx)("span",{children:"Are girls allowed with boys"})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",value:U,onClick:function(e){z(!U)}}),Object(p.jsx)("span",{children:"Is Night Party Allowed ?"})]}),Object(p.jsx)("div",{children:Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",value:ze,onClick:function(e){Me(!ze)}}),Object(p.jsx)("span",{children:"Small Room"}),ze?Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"text",placeholder:"price for small room",value:_,onChange:function(e){H(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"Night price for small room",value:ye,onChange:function(e){ke(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"upload pictures for small room",value:V,onChange:function(e){Y(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"capacity of small room",value:q,onChange:function(e){K(e.target.value)}})]}):Object(p.jsx)("div",{})]})}),Object(p.jsx)("div",{children:Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",value:He,onClick:function(e){Fe(!He)}}),Object(p.jsx)("span",{children:"Medium Room"}),He?Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"text",placeholder:"price for Medium Room",value:X,onChange:function(e){ee(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"Night price for Medium Room",value:we,onChange:function(e){Ie(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"upload pictures for Medium Room",value:ne,onChange:function(e){ce(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"capacity of Medium Room",value:re,onChange:function(e){le(e.target.value)}})]}):Object(p.jsx)("div",{})]})}),Object(p.jsx)("div",{children:Object(p.jsxs)("label",{children:[Object(p.jsx)("input",{type:"checkbox",value:Ye,onClick:function(e){$e(!Ye)}}),Object(p.jsx)("span",{children:"Large Room"}),Ye?Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"text",placeholder:"price for Large room",value:ue,onChange:function(e){de(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"Night price for Large room",value:Te,onChange:function(e){Be(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"upload pictures for Large room",value:pe,onChange:function(e){Oe(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"capacity of Large room",value:fe,onChange:function(e){xe(e.target.value)}})]}):Object(p.jsx)("div",{})]})})]}),Object(p.jsx)("button",{className:"btn waves-effect waves-light #1e88e5 blue darken-1",onClick:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(j)?b!=x?S.a.toast({html:"Passwords do not match",classes:"#d32f2f red darken-2"}):c&&j&&b&&x&&C&&P?void fetch("/bsignup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:j,password:b,hotelName:c,location:C,address:P,girlsWithBoys:A,isNightPartyAllowed:U,roomSmallData:Ae,roomMediumData:Le,roomLargeData:Re})}).then((function(e){return e.json()})).then((function(t){t.error?S.a.toast({html:t.error,classes:"#d32f2f red darken-2"}):(S.a.toast({html:"Saved Successfuly",classes:"#43a047 green darken-1"}),e.push("/bsignin"))})):S.a.toast({html:"Please enter all fields",classes:"#d32f2f red darken-2"}):S.a.toast({html:"Invalid Email",classes:"#d32f2f red darken-2"})},children:"Sign Up"}),Object(p.jsx)("h6",{children:Object(p.jsx)(g.b,{to:"/bsignin",children:"Already have an account?"})})]})})},C=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(i.e)();Object(n.useEffect)((function(){var e=localStorage.getItem("email");fetch("/hotelBooking?hotelEmail=".concat(e),{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){c(e),console.log(e)})).catch((function(e){console.log(e)}))}),[]);return Object(p.jsxs)("div",{className:"wrapper",children:[Object(p.jsxs)("div",{className:"left-sidebar",children:[Object(p.jsx)(g.b,{to:"/blocker",className:"waves-effect waves-light btn #e53935 red darken-1",children:"Block/Unblock"}),Object(p.jsx)(g.b,{to:"/BuploadPhoto",className:"waves-effect waves-light btn",children:"Upload Photos"}),Object(p.jsx)("button",{onClick:function(){o.push("/bsignin"),console.log("signout")},className:"waves-effect waves-light btn",children:"Sign out"})]}),Object(p.jsx)("div",{className:"center-bar",children:a.map((function(e){return Object(p.jsxs)("div",{className:"booking-box",children:[Object(p.jsxs)("p",{children:["id: ",e._id]}),Object(p.jsxs)("p",{children:["Name: ",e.name]}),Object(p.jsxs)("p",{children:["Persons: ",e.boys," boys, ",e.girls," girls"]}),Object(p.jsxs)("p",{children:["Date of check in: ",e.checkIn]}),Object(p.jsx)("p",{children:"Slot: Day"})]})}))})]})},N=(a(237),a(123));a(222);N.a.initializeApp({apiKey:"AIzaSyC7MVeSHTj3JxCRJakOxQVsVZil-5VF4BA",authDomain:"otp-auth-228bf.firebaseapp.com",projectId:"otp-auth-228bf",storageBucket:"otp-auth-228bf.appspot.com",messagingSenderId:"457857315529",appId:"1:457857315529:web:af8bcaefb8b2d9aa69d318"});var w=N.a,I=function(){localStorage.clear();var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){if(!localStorage.getItem("phone"))return o.push("/uphone");S.a.toast({html:"OTP sent Successfuly",classes:"#43a047 green darken-1"}),r()}),[]);var o=Object(i.e)(),s=function(){window.recaptchaVerifier=new w.auth.RecaptchaVerifier("sign-in-button",{size:"invisible",callback:function(e){r(),console.log("Captcha verified")},defaultCountry:"IN"})},r=function(e){s();var t="+91"+localStorage.getItem("phone");console.log(t);var a=window.recaptchaVerifier;w.auth().signInWithPhoneNumber(t,a).then((function(e){window.confirmationResult=e,console.log("OTP has been sent")})).catch((function(e){console.log(e)}))};return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"mycard card",children:Object(p.jsxs)("div",{className:"auth-card input-field",children:[Object(p.jsx)("h2",{children:"User Sign-in"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=a;console.log(t),window.confirmationResult.confirm(t).then((function(e){var t=e.user;console.log(JSON.stringify(t)),S.a.toast({html:"User is verified",classes:"#d32f2f green darken-2"}),console.log(JSON.stringify(t.providerId)),o.push("/")})).catch((function(e){}))},children:[Object(p.jsx)("input",{name:"otp",type:"text",placeholder:"Enter OTP",required:!0,value:a,onChange:function(e){return c(e.target.value)}}),Object(p.jsx)("button",{type:"submit",children:"Submit"})]}),Object(p.jsx)("div",{id:"sign-in-button"})]})})})},P=function(){var e=Object(i.e)(),t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){localStorage.clear()}),[]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"mycard card",children:Object(p.jsxs)("div",{className:"auth-card input-field",children:[Object(p.jsx)("h2",{children:"User Sign-in"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{id:"sign-in-button"}),Object(p.jsx)("input",{name:"phoneNumber",type:"text",placeholder:"Enter your phone number",value:c,onChange:function(e){return o(e.target.value)}}),Object(p.jsx)("button",{onClick:function(){if(!/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(c))return S.a.toast({html:"Please enter a valid phone number",classes:"#d32f2f red darken-2"});fetch("/checknum",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:c})}).then((function(e){return e.json()})).then((function(t){console.log(t),1==t.isUser?(e.push("/usignin"),localStorage.setItem("phone",t.phoneNumber)):e.push("/usignup")})).catch((function(e){console.log(e)}))},children:"Submit"})]})]})})})};var D=function(){var e=Object(i.e)(),t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(""),r=Object(l.a)(s,2),u=r[0],d=r[1],h=Object(n.useState)(new Date),b=Object(l.a)(h,2),O=b[0],g=b[1];return Object(n.useEffect)((function(){localStorage.clear()}),[]),Object(p.jsx)("div",{className:"mycard card",children:Object(p.jsxs)("div",{className:"auth-card input-field",children:[Object(p.jsx)("h2",{children:"User Sign-up"}),Object(p.jsx)("input",{type:"text",placeholder:"Name",value:c,onChange:function(e){o(e.target.value)}}),Object(p.jsx)("input",{type:"text",placeholder:"email",value:u,onChange:function(e){d(e.target.value)}}),Object(p.jsxs)(j.Container,{children:[Object(p.jsx)("p",{className:"mb-0 mt-2",children:"Enter Date of Birth"}),Object(p.jsx)(j.DatePicker,{className:"mt-0",selected:O,onChange:function(e){g(e)},placeholder:"Enter Date",value:O.toDateString()})]}),Object(p.jsx)("a",{className:"waves-effect btn #1976d2 blue darken-2",onClick:function(){return console.log(c,u,O,localStorage.getItem("phone")),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(u)?c&&u&&O?(console.log("btn press"),void fetch("/usignup",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,email:u,dob:O,phoneNumber:localStorage.getItem("phone")})}).then((function(e){return e.json()})).then((function(t){console.log(t),localStorage.setItem("name",t.name),t.error?S.a.toast({html:t.error,classes:"#d32f2f red darken-2"}):(S.a.toast({html:"Saved Successfuly",classes:"#43a047 green darken-1"}),e.push("/usignin"))})).catch((function(e){console.log(e)}))):S.a.toast({html:"Please enter all fields",classes:"#d32f2f red darken-2"}):S.a.toast({html:"Invalid Email",classes:"#d32f2f red darken-2"})},children:"Submit"})]})})},T=a(142),B=a.n(T),A=function(){var e=Object(n.useState)(["December 09 2020"]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=localStorage.getItem("email");Object(n.useEffect)((function(){fetch("/getBlockedDates?email=".concat(o),{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){c(e[0].isBlockedOn),console.log(e[0].isBlockedOn)}))}),[]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(B.a,{multiple:!0,value:a,format:"ddd MMM DD YYYY",onChange:c}),Object(p.jsx)("botton",{className:"btn waves-effect waves-light #1e88e5 blue darken-1",onClick:function(){var e=a.map((function(e){var t=new Date(e);return new Date(t.setHours(0,0,0,0)).toDateString()}));console.log(e),fetch("/blockUnblock",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,isBlockedOn:e})}).then((function(e){return e.json()})).then((function(e){console.log(e)}))},children:"Submit"})]})},L=a(2),R=a.n(L),E=a(6),U=(a(137),a(226)),z=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(),s=Object(l.a)(o,2),r=s[0],j=s[1],u=Object(n.useState)(),d=Object(l.a)(u,2),h=d[0],b=d[1],O=Object(n.useState)(),g=Object(l.a)(O,2),m=g[0],f=g[1],x=Object(n.useState)(),v=Object(l.a)(x,2),S=v[0],y=v[1],k=Object(i.f)(),C=Object(i.e)();function N(){return(N=Object(E.a)(R.a.mark((function e(){var t,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("rzp Running"),e.next=3,fetch("/razorpay",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({amount:100*h,currency:"INR",payment_capture:1,receipt:U.generate()})}).then((function(e){return e.json()}));case 3:t=e.sent,console.log(t),localStorage.setItem("Hotel",a),n={key:"rzp_test_ZwIQoXjws19gWq",amount:t.amount.toString(),currency:t.currency,name:"Acme Corp",description:"Test Transaction",image:"https://example.com/your_logo",order_id:t.id,created_at:t.created_at,handler:function(e){alert(e.razorpay_payment_id),alert(e.razorpay_order_id),alert(e.razorpay_signature),console.log(JSON.stringify(e)),C.push("/bill")},prefill:{name:"Gaurav Kumar",email:"gaurav.kumar@example.com",contact:"9999999999"},notes:{address:"Razorpay Corporate Office"},theme:{color:"#3399cc"}},new window.Razorpay(n).open(),localStorage.setItem("razor",JSON.stringify(t));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){fetch(k.pathname,{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=parseInt(e[0].roomSmallData.smallCapacity),a=parseInt(e[0].roomMediumData.mediumCapacity),n=parseInt(e[0].roomLargeData.largeCapacity),o=parseInt(localStorage.getItem("totalPersons"));c(e[0].hotelName),j(e[0].location),o<=t?(b(e[0].roomSmallData.smallPrice),f(e[0].roomSmallData.smallNightPrice)):o<=a?(b(e[0].roomMediumData.mediumPrice),f(e[0].roomMediumData.mediumNightPrice)):o<=n&&(b(e[0].roomLargeData.largePrice),f(e[0].roomLargeData.largeNightPrice)),y(e[0].mainPicUrl)}))}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("img",{src:S,alt:"hotel"}),Object(p.jsx)("h2",{children:a}),Object(p.jsx)("h6",{children:r}),Object(p.jsx)("h4",{children:"Discaimer"}),Object(p.jsx)("h5",{children:"Bookings for time after 1800 hrs will fall in Night Slot therefore Night Price will be charged"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{children:"Day Slot"}),Object(p.jsxs)("h5",{children:["Price - Rs ",h]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{children:"Night Slot"}),Object(p.jsxs)("h5",{children:["Price - Rs ",m]})]}),Object(p.jsx)("a",{className:"btn-floating btn-large waves-effect waves-light red",children:Object(p.jsx)("i",{className:"material-icons",children:"+"})}),Object(p.jsxs)("a",{onClick:function(){return N.apply(this,arguments)},className:"waves-effect waves-dark btn #64b5f6 blue lighten-2",children:["Pay Rs. ",h]})]})},M=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(),s=Object(l.a)(o,2);s[0],s[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("date"),t=localStorage.getItem("totalPersons"),a=localStorage.getItem("girls"),n=localStorage.getItem("isNightParty");fetch("/hotelList?date=".concat(e,"&totalPersons=").concat(t,"&girls=").concat(a,"&isNightParty=").concat(n),{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){c(e),console.log(e),console.log(t)}))}),[]),Object(p.jsx)(p.Fragment,{children:a.map((function(e){var t=e.roomSmallData.smallPrice,a=e.roomMediumData.mediumPrice,n=e.roomLargeData.largePrice,c=parseInt(e.roomSmallData.smallCapacity),o=parseInt(e.roomMediumData.mediumCapacity),s=parseInt(e.roomLargeData.largeCapacity),r=parseInt(localStorage.getItem("totalPersons"));console.log(r," is new total"),console.log(c,o,s);return Object(p.jsx)(g.b,{to:"/userHotel/"+e._id,children:Object(p.jsxs)("div",{className:"mycard card",children:[Object(p.jsx)("img",{src:e.mainPicUrl,alt:"hotel"+e.hotelName,style:{width:200,height:200}}),Object(p.jsx)("h5",{children:e.hotelName}),Object(p.jsx)("h6",{children:e.address}),Object(p.jsxs)("h6",{children:["Small Room : ",t," Capacity:",c]}),Object(p.jsxs)("h6",{children:["MEd Room: ",a," Capacity:",o]}),Object(p.jsxs)("h6",{children:["LArge Room :",n," Capacity:",s]}),Object(p.jsxs)("h5",{children:["Price:",r<=c?(console.log("small running"),t):r<=o?(console.log("med running"),a):r<=s?(console.log("large running"),n):void 0]})]})})}))})};var J=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(l.a)(o,2),r=s[0],i=s[1],j=Object(n.useState)(""),u=Object(l.a)(j,2),d=u[0],h=u[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"mycard card",children:Object(p.jsxs)("div",{className:"auth-card input-field",children:[Object(p.jsx)("h2",{children:"Upload Photo"}),Object(p.jsx)("input",{onChange:function(e){i(e.target.value)},type:"text",placeholder:"title"}),Object(p.jsxs)("div",{class:"file-field input-field",children:[Object(p.jsxs)("div",{class:"btn",children:[Object(p.jsx)("span",{children:"Browse"}),Object(p.jsx)("input",{type:"file",onChange:function(e){return c(e.target.files[0])}})]}),Object(p.jsx)("div",{class:"file-path-wrapper",children:Object(p.jsx)("input",{class:"file-path validate",type:"text"})})]}),Object(p.jsx)("button",{className:"btn waves-effect waves-light #1e88e5 blue darken-1",onClick:function(e){return function(){var e=new FormData;e.append("file",a),e.append("upload_preset","meraadda-web"),e.append("cloud_name","mera-adda"),fetch("https://api.cloudinary.com/v1_1/mera-adda/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){h(e.url),console.log(e.url),console.log(JSON.stringify(e)),console.log("photo is uploaded"),console.log(d)})).then(fetch("/photoUpload",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:r,picUrl:d})}).then((function(e){return e.json()})).then((function(e){e.error?S.a.toast({html:e.error,classes:"#d32f2f red darken-2"}):(window.location.reload(),S.a.toast({html:"Saved Successfuly",classes:"#43a047 green darken-1"}))}))).catch((function(e){console.log(e)})).catch((function(e){console.log(e)}))}()},children:"Upload"})]})})})},_=function(){var e,t,a=JSON.parse(localStorage.getItem("razor")),c=localStorage.getItem("isNightParty"),o=localStorage.getItem("Hotel"),s=localStorage.getItem("bookingDate"),r=localStorage.getItem("time"),l=localStorage.getItem("totalPersons"),i=a.amount/100,j=a.id,u=new Date(1e3*a.created_at).toLocaleString();return 1==c?(e=6,t="Night party"):(e=12,t="Day Party"),Object(n.useEffect)((function(){fetch("/addConfirmBookingsUser",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({User:"abc@abc.com",Hotel:o,DateOfBooking:s,ArrivalTime:r,TotalPersons:l,BillingAmount:i,OrderId:j,PaymentTime:u,TimeSlot:e,Type:t})}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):console.log("Added Successfuly")}))}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:"Payment Successful"}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("p",{children:["Hotel : ",o]}),Object(p.jsxs)("p",{children:["Date of Booking : ",s]}),Object(p.jsxs)("p",{children:["Time of Arrival : ",r]}),Object(p.jsxs)("p",{children:["Total Persons : ",l]}),Object(p.jsxs)("p",{children:["Billing Amount : Rs. ",i]}),Object(p.jsxs)("p",{children:["Order ID : ",j]}),Object(p.jsxs)("p",{children:["Date and time of payment :",u]}),Object(p.jsxs)("p",{children:["Time Slot : ",e," Hrs"]}),Object(p.jsxs)("p",{children:["Type : ",t]})]}),Object(p.jsx)(g.b,{to:"/allBookings",children:"All Bookings"})]})},H=function(){var e=Object(i.e)(),t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){fetch("getConfirmBookingsUser?User=abc@abc.com",{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):(console.log("Searched Successfuly"),o(e),console.log(e))}))}),[]),Object(p.jsx)("div",{children:c.map((function(t){var a=t.Hotel,n=t.DateOfBooking,c=t.BillingAmount,o=t.OrderId,s=t.PaymentTime,r=t.TimeSlot,l=t.TotalPersons,i=t.Type,j=t.ArrivalTime;return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{class:"card-panel white",onClick:function(){var t=[a,n,c,o,s,r,l,i,j];localStorage.setItem("OldBill",t),e.push("/oldBill/"+o)},children:[Object(p.jsxs)("p",{children:["Hotel: ",a]}),Object(p.jsxs)("p",{children:["Date Of Booking: ",n]}),Object(p.jsxs)("p",{children:["Billing Amount: Rs. ",c]})]})})}))})},F=function(){var e=localStorage.getItem("OldBill").split(",");return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("p",{children:["Hotel : ",e[0]]}),Object(p.jsxs)("p",{children:["Date of Booking : ",e[1]]}),Object(p.jsxs)("p",{children:["Time of Arrival : ",e[9]," "]}),Object(p.jsxs)("p",{children:["Billing Amount : Rs. ",e[2]]}),Object(p.jsxs)("p",{children:["Order Id : ",e[3]]}),Object(p.jsxs)("p",{children:["Date/Time of Payment : ",e[4],",",e[5]]}),Object(p.jsxs)("p",{children:["Time Slot :",e[6]," Hrs"]}),Object(p.jsxs)("p",{children:["Total Persons : ",e[7]," "]}),Object(p.jsxs)("p",{children:["Type : ",e[8]," "]})]})})};var Z=function(){var e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",document.body.appendChild(e),Object(p.jsxs)(g.a,{children:[Object(p.jsx)(x,{}),Object(p.jsx)(i.a,{exact:!0,path:"/",children:Object(p.jsx)(O,{})}),Object(p.jsx)(i.a,{path:"/bsignin",children:Object(p.jsx)(y,{})}),Object(p.jsx)(i.a,{path:"/bsignup",children:Object(p.jsx)(k,{})}),Object(p.jsx)(i.a,{path:"/usignin",children:Object(p.jsx)(I,{})}),Object(p.jsx)(i.a,{path:"/uphone",children:Object(p.jsx)(P,{})}),Object(p.jsx)(i.a,{path:"/usignup",children:Object(p.jsx)(D,{})}),Object(p.jsx)(i.a,{path:"/hoteladmin",children:Object(p.jsx)(C,{})}),Object(p.jsx)(i.a,{path:"/blocker",children:Object(p.jsx)(A,{})}),Object(p.jsx)(i.a,{path:"/userHotel",children:Object(p.jsx)(z,{})}),Object(p.jsx)(i.a,{path:"/hotelList",children:Object(p.jsx)(M,{})}),Object(p.jsx)(i.a,{path:"/BuploadPhoto",children:Object(p.jsx)(J,{})}),Object(p.jsx)(i.a,{path:"/bill",children:Object(p.jsx)(_,{})}),Object(p.jsx)(i.a,{path:"/allBookings",children:Object(p.jsx)(H,{})}),Object(p.jsx)(i.a,{path:"/oldBill",children:Object(p.jsx)(F,{})})]})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,297)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),o(e),s(e)}))};a(235);s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(Z,{})}),document.getElementById("root")),V()}},[[236,1,2]]]);
//# sourceMappingURL=main.ad2e34d7.chunk.js.map